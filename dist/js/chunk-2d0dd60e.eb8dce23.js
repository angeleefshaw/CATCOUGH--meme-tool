(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0dd60e"],{"80aa":function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return Be}));var n=a("48cf"),l=a("f8fb"),o=a("ab5b"),r=a.n(o),i=a("bce9"),c=Object(n["o"])((function(){const{config:e,active:t,custom:a}=Object(n["y"])(),{tools:o}=e,i=t.tool,c=t=>{const a=e.state.config[t];if("icon"in a){const e=a.icon;return r.a.createElement(e,null)}const l=n["A"][t];return r.a.createElement(l,null)||null},s=t=>e.locale[t].title,m=(e,a)=>e&&r.a.createElement(n["n"].Toolbar.Item,{onClick:()=>t.selectTool(e),key:e,label:s(e),isActive:i===e,isDisabled:!(t.image||e===l["i"].LIBRARY||e===l["i"].CUSTOM)},c(e))||r.a.createElement(n["n"].Toolbar.Separator,{key:e+a,active:!!i}),u=a.getBasicToolbar();return u?r.a.createElement(u,{show:!!i},o.map(m)):null})),s=({adjustmentsTool:e,custom:t})=>{const a=e.selectedAdjustmentType.toLowerCase(),i=e[a],c=Object(o["useRef"])(!1),s=Object(o["useRef"])(i),m=t.getButton("toolControlBarSecondaryButton"),u=t=>{c.current&&t!==s.current&&(e.toolSnapshot(),c.current=!1,s.current=t)};return r.a.createElement(n["n"].ControlsbarContainer,{show:Boolean(a)},m&&r.a.createElement(m,{tool:l["i"].ADJUSTMENT,ariaLabel:e.locale.controls.buttonReset,onClick:e.reset,icon:r.a.createElement(n["C"].reset,null),label:e.locale.controls.buttonReset}),r.a.createElement(n["n"].Other.ControlsWrapper,null,r.a.createElement(n["x"].Spacer,{count:2}),r.a.createElement(n["n"].Slider,{"aria-hidden":!a,adjust:!0,style:{width:"280px"},label:e.selectedOptionLabel,value:i,onChange:t=>{e.editAdjustments({type:a,value:t}),c.current=i!==t},onMouseUp:u,onTouchEnd:u,snap:0}),r.a.createElement(n["x"].Spacer,{count:2}),r.a.createElement(n["n"].BarSeparator,null)),r.a.createElement(n["n"].Other.EmptyDiv,null))},m=Object(n["q"])("adjustmentsTool","custom")(Object(n["o"])(s)),u=Object(n["o"])(()=>{const{brushTool:e}=Object(n["y"])(),{colorList:t,locale:a,localeColor:o}=e,i=a.controls,c=o.colorPicker;return r.a.createElement(r.a.Fragment,null,r.a.createElement(n["x"].Input.Selection,{showLabel:!1,label:i.selectColor},r.a.createElement(n["d"],{tool:l["i"].BRUSH,activeColor:e.color,colors:t,labelsColor:c,colorPickerDirection:"top",onChange:e.changeColor})))}),d=Object(n["o"])(()=>{const{brushTool:e}=Object(n["y"])(),{locale:t}=e,a=t.controls;return r.a.createElement(n["n"].Slider,{"data-test":l["H"].BrushHardness,style:{width:"280px"},showLabel:!1,label:a.sliderHardness,value:e.hardness,min:0,max:1,onChange:e.changeHardness})}),b=Object(n["o"])(()=>{const{brushTool:e}=Object(n["y"])(),{locale:t}=e,a=t.controls;return r.a.createElement(n["n"].Slider,{"data-test":l["H"].BrushSize,style:{width:"280px"},showLabel:!1,label:a.sliderSize,value:e.relativeSize,min:1,max:100,divider:1,onChange:e.changeRelativeSize})}),h=n["n"].TabWrapper,{Tab:E}=n["n"],p=Object(n["o"])(()=>{const{brushTool:e,custom:t}=Object(n["y"])(),{locale:a,config:o}=e,{basicUIToolControlBarTabsOrder:i}=o,c=a.controls,s=t.getButton("toolControlBarSecondaryButton"),m=e=>{switch(e){case l["e"].BrushColor:return r.a.createElement(E,{key:e,label:c.tabColor},r.a.createElement(u,null));case l["e"].BrushSize:return r.a.createElement(E,{key:e,label:c.tabSize},r.a.createElement(b,null));case l["e"].BrushHardness:return r.a.createElement(E,{key:e,label:c.tabHardness},r.a.createElement(d,null));default:return null}};return r.a.createElement(n["n"].ControlsbarContainer,{style:{justifyContent:"center"},show:!0},s&&r.a.createElement(s,{tool:l["i"].BRUSH,ariaLabel:c.buttonReset,onClick:e.reset,icon:r.a.createElement(n["C"].reset,null),isDisabled:!e.isDirty,label:c.buttonReset}),r.a.createElement(n["n"].Other.ControlsWrapper,null,r.a.createElement(n["x"].Input.Form,null,r.a.createElement(h,null,i.map(e=>m(e))))))}),C=Object(n["o"])(()=>{const{filterTool:e}=Object(n["y"])(),{state:t}=e,a=e.locale.controls,l=()=>{e.toolSnapshot()};return r.a.createElement(n["n"].Other.ControlsWrapper,null,r.a.createElement(n["x"].Spacer,{count:2}),r.a.createElement(n["n"].Slider,{"aria-hidden":!e.isOptionSelected,style:{width:"280px"},label:a.sliderIntensity,value:t.intensity,min:0,max:1,onMouseUp:l,onTouchEnd:l,onChange:e.changeIntensity,snap:t.isDuotone?.5:null}),r.a.createElement(n["x"].Spacer,{count:2}),r.a.createElement(n["n"].BarSeparator,null))}),g=Object(n["o"])(()=>{const{filterTool:e,custom:t}=Object(n["y"])(),{config:a}=e,{basicUIToolControlBarTabsOrder:o}=a,i=t.getButton("toolControlBarSecondaryButton"),c=e=>{switch(e){case l["P"].FilterIntensity:return r.a.createElement(C,{key:e});default:return null}};return r.a.createElement(n["n"].ControlsbarContainer,{show:e.isOptionSelected},i&&r.a.createElement(i,{tool:l["i"].FILTER,ariaLabel:e.locale.controls.buttonReset,onClick:e.reset,icon:r.a.createElement(n["C"].reset,null),label:e.locale.controls.buttonReset}),o.map(e=>c(e)),r.a.createElement(n["n"].Other.EmptyDiv,null))}),y=Object(n["o"])(()=>{const{focusTool:e,custom:t}=Object(n["y"])(),a=e.locale.controls,o=t.getButton("toolControlBarSecondaryButton"),i=()=>{e.toolSnapshot(a.sliderIntensity)};return r.a.createElement(n["n"].ControlsbarContainer,{show:e.isOptionSelected},o&&r.a.createElement(o,{tool:l["i"].FOCUS,ariaLabel:a.buttonReset,onClick:e.reset,icon:r.a.createElement(n["C"].reset,null),label:a.buttonReset}),r.a.createElement(n["n"].Other.ControlsWrapper,null,r.a.createElement(n["x"].Spacer,{count:2}),r.a.createElement(n["n"].Slider,{"aria-hidden":!e.isOptionSelected,style:{width:"280px"},label:a.sliderIntensity,value:e.relativeIntensity,min:0,max:100,divider:1,onChange:e.changeRelativeIntensity,onMouseUp:i,onTouchEnd:i}),r.a.createElement(n["x"].Spacer,{count:2}),r.a.createElement(n["n"].BarSeparator,null)),r.a.createElement(n["n"].Other.EmptyDiv,null))}),f=Object(n["o"])(()=>{const{frameTool:e}=Object(n["y"])(),t=e.locale.controls,a=e.localeColor.colorPicker,{colorList:o}=e;return r.a.createElement(n["x"].Input.Selection,{label:t.selectColor,showLabel:!1},r.a.createElement(n["d"],{tool:l["i"].FRAME,activeColor:e.color,colors:o,labelsColor:a,colorPickerDirection:"top",onChange:e.changeColor,onAddSnapshot:e.colorSnapshot}))}),O=Object(n["o"])(()=>{const{frameTool:e}=Object(n["y"])(),t=e.locale.controls,a=()=>{e.toolSnapshot(t.sliderOpacity)};return r.a.createElement(n["n"].Slider,{"aria-hidden":!e.isOptionSelected,showLabel:!1,style:{width:"280px"},label:t.sliderOpacity,value:e.opacity,min:0,max:1,onChange:e.changeOpacity,onMouseUp:a,onTouchEnd:a})}),S=Object(n["o"])(()=>{const{frameTool:e}=Object(n["y"])(),t=e.locale.controls,a=()=>{e.toolSnapshot(t.sliderSize)};return r.a.createElement(n["n"].Slider,{"aria-hidden":!e.isOptionSelected,showLabel:!1,style:{width:"280px"},label:t.sliderSize,value:e.size,min:e.minSize,max:e.maxSize,divider:1,onChange:e.changeWidth,onMouseUp:a,onTouchEnd:a})}),T=n["n"].TabWrapper,{Tab:x}=n["n"],k=Object(n["o"])(()=>{const{frameTool:e,custom:t}=Object(n["y"])(),a=e.locale.controls,{tintable:o,config:i}=e,{basicUIToolControlBarTabsOrder:c}=i,s=t.getButton("toolControlBarSecondaryButton"),m=e=>{switch(e){case l["ob"].FrameOpacity:return r.a.createElement(x,{key:e,label:a.tabOpacity},r.a.createElement(O,null));case l["ob"].FrameSize:return r.a.createElement(x,{key:e,label:a.tabSize},r.a.createElement(S,null));case l["ob"].FrameColor:return o&&r.a.createElement(x,{key:e,label:a.tabColor},r.a.createElement(f,null));default:return null}};return r.a.createElement(n["n"].ControlsbarContainer,{show:e.isOptionSelected},s&&r.a.createElement(s,{tool:l["i"].FRAME,ariaLabel:a.buttonReset,onClick:e.reset,icon:r.a.createElement(n["C"].reset,null),label:a.buttonReset}),r.a.createElement(n["n"].Other.ControlsWrapper,null,r.a.createElement(n["x"].Spacer,null),r.a.createElement(T,null,c.map(e=>m(e))),r.a.createElement(n["n"].BarSeparator,null)),r.a.createElement(n["n"].Other.EmptyDiv,null))}),I=Object(i["c"])(n["n"].ControlsbarContainer)`
  ${e=>e.firstChildMargin&&i["b"]`
      > :first-child {
        margin-right: 16px;
      }
    `}
`,j=({library:e,active:t,custom:a})=>{const o=e.locale.controls.placeholderSearch,{config:i}=e,c=a.getButton("toolControlBarPrimaryButton"),s=t=>{e.fetchImages(t)},m=e=>{const{files:a}=e.target;if(a.length){const e=new FileReader;e.onload=e=>{t.newImage(e.target.result)},e.readAsDataURL(a[0])}},u=()=>{t.selectWebcam(!0)},d=()=>{const e=document.getElementById("fileUpload");e&&e.click()};return r.a.createElement(I,{firstChildMargin:i.enableWebcam&&!e.libraryProvider,show:!0},i.enableUpload&&c&&r.a.createElement(c,{tool:l["i"].LIBRARY,"data-test":l["H"].LibraryUploadButton,ariaLabel:e.locale.controls.buttonUpload,onClick:d,icon:r.a.createElement(n["C"].uploadImage,null),label:e.locale.controls.buttonUpload},r.a.createElement(n["x"].Input.File,{onChange:m})),e.libraryProvider&&r.a.createElement(n["n"].Other.ControlsWrapper,null,r.a.createElement(n["x"].Input.Search,{onChange:s,placeholder:o})),i.enableWebcam&&r.a.createElement(n["l"],{tool:l["i"].LIBRARY,onClick:u,icon:r.a.createElement(n["C"].openWebcam,null),label:e.locale.controls.buttonWebcamOpen}),r.a.createElement(n["n"].BarSeparator,null))},B=Object(n["q"])("library","active","custom")(Object(n["o"])(j)),v=Object(n["o"])(()=>{const{overlayTool:e}=Object(n["y"])(),t=e.locale.controls,{blendMode:a,allBlendModes:l}=e,o=t=>{e.changeBlendMode(t)};return r.a.createElement(n["x"].Input.CarouselSlider,{showLabel:!1,label:t.carouselBlendMode,defaultIdentifier:a,onSelect:o,list:l})}),R=Object(n["o"])(()=>{const{overlayTool:e}=Object(n["y"])(),t=e.locale.controls,{state:a}=e,l=()=>{e.toolSnapshot()};return r.a.createElement(n["n"].Slider,{"aria-hidden":!e.isOptionSelected,showLabel:!1,style:{width:"280px"},label:t.sliderOpacity,value:a.opacity,min:0,max:1,onChange:e.changeOpacity,onMouseUp:l,onTouchEnd:l})}),w=n["n"].TabWrapper,{Tab:D}=n["n"],L=Object(n["o"])(()=>{const{overlayTool:e,custom:t}=Object(n["y"])(),{config:a}=e,{basicUIToolControlBarTabsOrder:o}=a,i=e.locale.controls,c=t.getButton("toolControlBarSecondaryButton"),s=e=>{switch(e){case l["Jb"].OverlayBlendMode:return r.a.createElement(D,{key:e,label:i.tabBlendMode},r.a.createElement(v,null));case l["Jb"].OverlayOpacity:return r.a.createElement(D,{key:e,label:i.tabOpacity},r.a.createElement(R,null));default:return null}};return r.a.createElement(n["n"].ControlsbarContainer,{show:e.isOptionSelected},c&&r.a.createElement(c,{tool:l["i"].OVERLAY,ariaLabel:i.buttonReset,onClick:e.reset,icon:r.a.createElement(n["C"].reset,null),label:i.buttonReset}),r.a.createElement(n["n"].Other.ControlsWrapper,null,r.a.createElement(n["x"].Spacer,null),r.a.createElement(w,null,o.map(e=>s(e))),r.a.createElement(n["n"].BarSeparator,null)),r.a.createElement(n["n"].Other.EmptyDiv,null))}),U=Object(n["o"])(()=>{const{stickerTool:e}=Object(n["y"])(),t=e.locale.controls,a=e.localeColor.colorPicker,{colorList:o}=e;return r.a.createElement(r.a.Fragment,null,r.a.createElement(n["x"].Input.Selection,{isDisabled:!e.isStickerSelected,showLabel:!1,label:t.selectColor},r.a.createElement(n["d"],{tool:l["i"].STICKER,activeSprite:e.id,activeColor:e.tintColor,colors:o,labelsColor:a,isDisabled:!e.isStickerSelected,colorPickerDirection:"top",onChange:e.changeTintColor,onAddSnapshot:e.tintColorSnapshot})))}),M=Object(n["o"])(()=>{const{stickerTool:e}=Object(n["y"])(),t=e.locale.controls,a=()=>{e.toolSnapshot()};return r.a.createElement(n["n"].Slider,{isDisabled:!e.isStickerSelected,showLabel:!1,style:{width:"280px"},label:t.sliderOpacity,value:e.opacity,min:0,max:1,onMouseUp:a,onTouchEnd:a,onChange:e.changeOpacity})}),A=n["n"].TabWrapper,{Tab:F}=n["n"],$=i["c"].input.attrs({type:"file",id:"fileUpload",accept:"image/*",multiple:!0})`
  ${n["w"].VisuallyHidden}
`,W=Object(n["o"])(()=>{const{stickerTool:e,custom:t}=Object(n["y"])(),{config:a}=e,{basicUIToolControlBarTabsOrder:o}=a,i=e.locale.controls,c=t.getButton("toolControlBarPrimaryButton"),s=()=>{const e=document.getElementById("fileUpload");e&&(e.value=null,e.click())},m=t=>{const{files:a}=t.target;e.addFiles(a)},u=t=>{switch(t){case l["Yb"].StickerColor:return e.tintable?r.a.createElement(F,{key:t,label:i.tabColor},r.a.createElement(U,null)):null;case l["Yb"].StickerOpacity:return r.a.createElement(F,{key:t,label:i.tabOpacity},r.a.createElement(M,null));default:return null}},d=()=>e.isCustomStickerEnabled&&c?r.a.createElement(c,{tool:l["i"].STICKER,ariaLabel:i.buttonUpload,onClick:s,icon:r.a.createElement(n["C"].uploadImage,null),label:i.buttonUpload},r.a.createElement($,{onChange:m})):null;return r.a.createElement(n["n"].ControlsbarContainer,{show:!0},d(),r.a.createElement(n["n"].Other.ControlsWrapper,null,r.a.createElement(A,null,o.map(e=>u(e))),r.a.createElement(n["n"].BarSeparator,null)),r.a.createElement(n["n"].Other.EmptyDiv,null))}),z=Object(n["o"])(()=>{const{textTool:e}=Object(n["y"])(),{backgroundColorList:t}=e,a=e.locale.controls,o=e.localeColor.colorPicker;return r.a.createElement(n["x"].Input.Selection,{isDisabled:!e.isTextSelected,showLabel:!1,label:a.selectBackgroundColor},r.a.createElement(n["d"],{tool:l["i"].TEXT,activeSprite:e.id,activeColor:e.backgroundColor,colors:t,labelsColor:o,colorPickerDirection:"top",isDisabled:!e.isTextSelected,onChange:e.changeBackgroundColor,onAddSnapshot:e.backgroundColorSnapshot}))}),P=Object(i["c"])(n["x"].Input.NumericInput)`
  max-width: 55px;
  > div > input {
    text-align: center;
  }
`,H=Object(n["o"])(()=>{const{textTool:e}=Object(n["y"])(),t=t=>{const a=t?parseFloat(t):0;e.setFontSize(Math.max(10,Math.min(690,a)))};return r.a.createElement(P,{value:e.fontSize.toFixed(0),onSubmit:t,isDisabled:!e.isTextSelected})}),N=Object(n["o"])(()=>{const{textTool:e}=Object(n["y"])(),t=e.locale.controls,a=()=>{e.toolSnapshot()};return r.a.createElement(n["n"].Slider,{isDisabled:!e.isTextSelected,showLabel:!1,label:t.sliderLineSpacing,value:e.lineHeight,min:.5,max:3,onChange:e.changeLineHeight,onMouseUp:a,onTouchEnd:a,snap:1,divider:1,decimal:1})}),q=Object(n["o"])(()=>{const{textTool:e,custom:t}=Object(n["y"])(),a=e.locale.controls,o=["left","center","right"],i=t.getButton("textAlignment");return r.a.createElement(n["x"].Input.Selection,{isDisabled:!e.isTextSelected,showLabel:!1,label:a.selectAlignment,"data-test":l["H"].TextAlignment},o.map(t=>{const a=n["B"][t];return r.a.createElement(i,{tool:t,isDisabled:!e.isTextSelected,ariaLabel:"Align "+t,isActive:t===e.alignment,key:t,icon:r.a.createElement(a,null),onClick:()=>e.changeAlignment(t)})}))}),Y=Object(n["o"])(()=>{const{textTool:e}=Object(n["y"])(),{colorList:t}=e,a=e.locale.controls,o=e.localeColor.colorPicker;return r.a.createElement(n["x"].Input.Selection,{isDisabled:!e.isTextSelected,showLabel:!1,label:a.selectFontColor},r.a.createElement(n["d"],{tool:l["i"].TEXT,activeSprite:e.id,activeColor:e.textColor,colors:t,labelsColor:o,colorPickerDirection:"top",isDisabled:!e.isTextSelected,onChange:e.changeColor,onAddSnapshot:e.colorSnapshot}))}),X=n["n"].ResponsiveTabWrapper,G=Object(n["o"])(()=>{const{textTool:e,custom:t}=Object(n["y"])(),{config:a}=e,{basicUIToolControlBarTabsOrder:o}=a,i=e.locale.controls,c=t.getButton("toolControlBarPrimaryButton"),s=e=>{switch(e){case l["hc"].FontSize:return r.a.createElement(n["m"],{key:e,label:i.tabFontSize},r.a.createElement(H,null));case l["hc"].TextAligment:return r.a.createElement(n["m"],{key:e,label:i.tabAlignment},r.a.createElement(q,null));case l["hc"].TextColor:return r.a.createElement(n["m"],{key:e,label:i.tabColor},r.a.createElement(Y,null));case l["hc"].BackgroundColor:return r.a.createElement(n["m"],{key:e,label:i.tabBgColor},r.a.createElement(z,null));case l["hc"].LineSpacing:return r.a.createElement(n["m"],{key:e,label:i.tabLineHeight},r.a.createElement(N,null));default:return null}};return r.a.createElement(n["n"].ControlsbarContainer,{show:!0},r.a.createElement(c,{tool:l["i"].TEXT,ariaLabel:i.buttonNew,onClick:e.add,icon:r.a.createElement(n["C"].addText,null),label:i.buttonNew}),r.a.createElement(n["n"].Other.ControlsWrapper,null,r.a.createElement(n["x"].Spacer,null),r.a.createElement(X,null,o.map(e=>s(e))),r.a.createElement(n["n"].BarSeparator,null)),r.a.createElement(n["n"].Other.EmptyDiv,null))}),_=({textDesignTool:e,custom:t})=>{const a=e.locale.controls,o=e.localeColor.colorPicker,{colorList:i}=e,c=t.getButton("toolControlBarSecondaryButton"),s=t.getButton("toolControlBarPrimaryButton");return r.a.createElement(n["n"].ControlsbarContainer,{show:!0},s&&r.a.createElement(s,{tool:l["i"].TEXT_DESIGN,ariaLabel:a.buttonNew,onClick:e.add,icon:r.a.createElement(n["C"].addText,null),label:a.buttonNew}),r.a.createElement(n["n"].Other.ControlsWrapper,null,r.a.createElement(n["x"].Input.Selection,{isDisabled:!e.isTextDesignSelected,label:a.selectColor},r.a.createElement(n["d"],{tool:l["i"].TEXT_DESIGN,activeSprite:e.id,activeColor:e.color,colors:i,labelsColor:o,colorPickerDirection:"top",isDisabled:!e.isTextDesignSelected,onChange:e.changeColor,onAddSnapshot:e.colorSnapshot}))),c&&r.a.createElement(c,{tool:l["i"].TEXT_DESIGN,ariaLabel:a.buttonShuffle,onClick:e.changeSeed,icon:r.a.createElement(n["C"].shuffle,null),label:a.buttonShuffle}),r.a.createElement(n["n"].BarSeparator,null))},J=Object(n["q"])("textDesignTool","custom")(Object(n["o"])(_)),K=Object(n["o"])(()=>{const{transformTool:e}=Object(n["y"])(),t=e.locale.controls,{forceDimensions:a}=e;return r.a.createElement(n["i"],{isDisabled:a,showLabel:!1,valueHeight:e.localOutputHeight,valueWidth:e.localOutputWidth,onSubmitWidth:e.onPixelWidth,onSubmitHeight:e.onPixelHeight,label:t.inputCropSize,labelHeight:t.inputHeight,labelWidth:t.inputWidth})}),V=()=>r.a.createElement(n["e"],null),Q=Object(n["o"])(()=>{const{transformTool:e,custom:t}=Object(n["y"])(),a=e.locale.controls,{forceDimensions:o}=e,i=t.getCheckbox();return i?r.a.createElement(i,{tool:l["i"].TRANSFORM,isDisabled:o,style:{paddingTop:"5px",justifyContent:"center"},value:e.lockResolution,checkMarkPosition:"left",label:a.checkboxKeepResolution,onClick:e.changeLockResolution}):null}),Z=n["n"].ResponsiveTabWrapper,{Tab:ee}=n["n"],te=Object(n["o"])(()=>{const{transformTool:e,custom:t}=Object(n["y"])(),{config:a}=e,{basicUIToolControlBarTabsOrder:o}=a,i=e.locale.controls,c=t.getButton("toolControlBarSecondaryButton"),s=e=>{switch(e){case l["n"].FlipRotate:return r.a.createElement(ee,{key:e,label:i.tabFlipAndRotate},r.a.createElement(V,null));case l["n"].Resolution:return r.a.createElement(ee,{key:e,label:i.tabResolution},r.a.createElement(Q,null));case l["n"].CropSize:return r.a.createElement(ee,{key:e,label:i.tabCropSize},r.a.createElement(K,null));default:return null}};return r.a.createElement(n["n"].ControlsbarContainer,{show:!0},c&&r.a.createElement(c,{tool:l["i"].TRANSFORM,ariaLabel:e.locale.controls.buttonReset,onClick:e.reset,icon:r.a.createElement(n["C"].reset,null),label:e.locale.controls.buttonReset}),r.a.createElement(n["n"].Other.ControlsWrapper,null,r.a.createElement(n["x"].Spacer,null),r.a.createElement(Z,null,o.map(e=>s(e))),r.a.createElement(n["n"].BarSeparator,null)),r.a.createElement(n["n"].Other.EmptyDiv,null))}),ae=Object(n["o"])((function(){const{active:e,custom:t}=Object(n["y"])(),a=e.tool,o=t.getBasicToolControlBar();return o?r.a.createElement(o,{show:!!a},r.a.createElement(n["x"].Switch.Index,{type:a},r.a.createElement(n["x"].Switch.Case,{value:l["i"].FILTER},r.a.createElement(g,null)),r.a.createElement(n["x"].Switch.Case,{value:l["i"].FOCUS},r.a.createElement(y,null)),r.a.createElement(n["x"].Switch.Case,{value:l["i"].ADJUSTMENT},r.a.createElement(m,null)),r.a.createElement(n["x"].Switch.Case,{value:l["i"].OVERLAY},r.a.createElement(L,null)),r.a.createElement(n["x"].Switch.Case,{value:l["i"].STICKER},r.a.createElement(W,null)),r.a.createElement(n["x"].Switch.Case,{value:l["i"].TEXT},r.a.createElement(G,null)),r.a.createElement(n["x"].Switch.Case,{value:l["i"].TEXT_DESIGN},r.a.createElement(J,null)),r.a.createElement(n["x"].Switch.Case,{value:l["i"].LIBRARY},r.a.createElement(B,null)),r.a.createElement(n["x"].Switch.Case,{value:l["i"].FRAME},r.a.createElement(k,null)),r.a.createElement(n["x"].Switch.Case,{value:l["i"].BRUSH},r.a.createElement(p,null)),r.a.createElement(n["x"].Switch.Case,{value:l["i"].TRANSFORM},r.a.createElement(te,null)))):null})),ne=i["c"].div`
  position: relative;
  top: -8px;
  color: ${e=>e.theme.card.foreground};
`,le=({adjustmentsTool:e})=>{const t=(t,a)=>{const o=n["E"][t.identifier];return r.a.createElement(n["n"].Card,{"data-test":t.identifier,tool:l["i"].ADJUSTMENT,type:l["m"].MEDIUM,onClick:()=>e.toggleOptionSelection(t.identifier),isActive:t.identifier===e.selectedAdjustmentType,key:`${t.identifier}-${a}`,label:t.name,style:{animationDelay:Object(l["O"])(a)+"s"}},r.a.createElement(ne,null,r.a.createElement(o,null)),r.a.createElement(n["n"].CardLabel,null,e.locale.items[t.identifier]||t.name))};return r.a.createElement(n["n"].CardContainer,null,e.items.map(t))},oe=Object(n["q"])("adjustmentsTool")(Object(n["o"])(le)),re=()=>{const{config:e}=Object(n["y"])(),t=e.state.config[l["i"].CUSTOM].toolControlBar;return r.a.createElement(t,{language:e.state.locale[l["i"].CUSTOM]})},ie=class extends r.a.Component{constructor(){super(...arguments),this.onCategoryClick=e=>{const{filterTool:t}=this.props;t.toggleCategorySelection(e)},this.renderItem=(e,t)=>{const{filterTool:a}=this.props;return r.a.createElement(n["n"].Card,{tool:l["i"].FILTER,type:l["m"].MEDIUM,onClick:()=>a.selectFilter(e.identifier,e.defaultIntensity),isActive:a.identifier===e.identifier,key:`${e.identifier}-${t}`,image:e.thumbnailURI,label:e.name,style:{animationDelay:Object(l["O"])(t)+"s"}},r.a.createElement(n["n"].CardLabel,{withBackground:!0},a.locale.categories[e.identifier]||a.locale.items[e.identifier]||e.name))},this.renderCategory=(e,t)=>{const{filterTool:a}=this.props,{selectedCategoryIdentifier:o}=a,i=o===e.identifier;return e.items?r.a.createElement(n["n"].CategoryContainer,{key:e.identifier},r.a.createElement(n["n"].Card,{tool:l["i"].FILTER,type:l["m"].LARGE,onClick:()=>this.onCategoryClick(e.identifier),image:e.thumbnailURI,label:e.name,style:{animationDelay:Object(l["O"])(t)+"s"}},r.a.createElement(n["n"].CardLabel,{withBackground:!0},e.name)),r.a.createElement(n["n"].ExpandableContainer,{show:i},e.items.map(this.renderItem))):null}}render(){const{filterTool:e}=this.props,{categories:t,config:a,items:l}=e;return a.flattenCategories?r.a.createElement(n["n"].CardContainer,null,l.map(this.renderItem)):r.a.createElement(n["n"].CardContainer,null,t.map(this.renderCategory))}};ie=Object(l["cb"])([Object(n["q"])("filterTool","active"),n["o"]],ie);var ce=({focusTool:e})=>{const t=t=>{e.selectFocus(t)},a=(a,o)=>r.a.createElement(n["n"].Card,{isActive:a.identifier===e.identifier,tool:l["i"].FOCUS,type:l["m"].MEDIUM,onClick:()=>t(a.identifier),key:`${a.identifier}-${o}`,image:a.thumbnailURI,label:a.name,style:{animationDelay:Object(l["O"])(o)+"s"}},r.a.createElement(n["n"].CardLabel,{withBackground:!0},e.locale.items[a.identifier]||a.name));return r.a.createElement(n["n"].CardContainer,null,e.items.map(a))},se=Object(n["q"])("focusTool")(Object(n["o"])(ce)),me=({frameTool:e})=>{const t=e.identifier,a=(a,o)=>r.a.createElement(n["n"].Card,{tool:l["i"].FRAME,type:l["m"].MEDIUM,onClick:()=>e.selectFrame(a.identifier),isActive:a.identifier===t,key:`${a.identifier}-${o}`,image:a.thumbnailURI,label:a.name,style:{animationDelay:Object(l["O"])(o)+"s",backgroundSize:"60%"}}," ",r.a.createElement(n["n"].CardLabel,{hidden:!0},e.locale.items[a.identifier]||a.name));return r.a.createElement(n["n"].CardContainer,null,e.items.map(a))},ue=Object(n["q"])("frameTool")(Object(n["o"])(me)),de=i["c"].p`
  height: ${e=>e.theme.measurements.basicUIToolControlBar.itemsBarHeight}px;
`,be=class extends r.a.Component{constructor(){super(...arguments),this.onCategoryClick=e=>{const{library:t}=this.props;t.toggleCategorySelection(e)},this.renderItem=(e,t)=>{const{active:a}=this.props;return r.a.createElement(n["n"].Card,{tool:l["i"].LIBRARY,type:l["m"].MEDIUM,onClick:()=>a.newImage(e.rawUrl),key:`${e.identifier}-${t}`,image:e.thumbnailURI,label:e.name,style:{animationDelay:Object(l["O"])(t)+"s"}})},this.renderCategory=(e,t)=>{const{library:a}=this.props,{selectedCategoryIdentifier:o}=a,i=o===e.identifier;return e.items?r.a.createElement(n["n"].CategoryContainer,{key:e.identifier},r.a.createElement(n["n"].Card,{tool:l["i"].LIBRARY,type:l["m"].LARGE,onClick:()=>this.onCategoryClick(e.identifier),image:e.thumbnailURI,label:e.name,style:{animationDelay:Object(l["O"])(t)+"s"}},r.a.createElement(n["n"].CardLabel,{withBackground:!0},e.name)),r.a.createElement(n["n"].ExpandableContainer,{show:i},e.items.map(this.renderItem))):null}}render(){const{library:e}=this.props,{query:t,categories:a,items:o,locale:i,config:c}=e;return t?o.length?r.a.createElement(n["n"].CardContainer,null,o.map(this.renderItem)):r.a.createElement(de,{"data-test":l["H"].NoResult},i.controls.noResults):c.flattenCategories?r.a.createElement(n["n"].CardContainer,null,o.map(this.renderItem)):r.a.createElement(n["n"].CardContainer,null,a.map(this.renderCategory))}};be=Object(l["cb"])([Object(n["q"])("library","active"),n["o"]],be);var he=({overlayTool:e})=>{const{identifier:t,items:a,selectOverlay:o,locale:i}=e,c=(e,a)=>r.a.createElement(n["n"].Card,{tool:l["i"].OVERLAY,type:l["m"].MEDIUM,onClick:()=>o(e.identifier),isActive:e.identifier===t,key:`${e.identifier}-${a}`,image:e.thumbnailURI,label:e.name,style:{animationDelay:Object(l["O"])(a)+"s"}},r.a.createElement(n["n"].CardLabel,{withBackground:!0},i.items[e.identifier]||e.name));return r.a.createElement(n["n"].CardContainer,null,a.map(c))},Ee=Object(n["q"])("overlayTool")(Object(n["o"])(he)),pe=class extends r.a.Component{constructor(){super(...arguments),this.onCategoryClick=e=>{const{stickerTool:t}=this.props;t.toggleCategorySelection(e)},this.renderItem=(e,t)=>{const{stickerTool:a}=this.props;return r.a.createElement(n["n"].Card,{tool:l["i"].STICKER,type:l["m"].MEDIUM,onClick:()=>a.add(e.identifier),key:`${e.identifier}-${t}`,image:e.thumbnailURI,label:e.name,style:{backgroundSize:"55%",animationDelay:Object(l["Q"])(t)+"s"}},r.a.createElement(n["n"].CardLabel,{hidden:!0},a.locale.items[e.identifier]||e.name))},this.renderCategory=(e,t)=>{const{stickerTool:a}=this.props,{selectedCategoryIdentifier:o,locale:i}=a,c=o===e.identifier;return e.items?r.a.createElement(n["n"].CategoryContainer,{key:e.identifier},r.a.createElement(n["n"].Card,{tool:l["i"].STICKER,type:l["m"].LARGE,onClick:()=>this.onCategoryClick(e.identifier),image:e.thumbnailURI,label:e.name,style:{animationDelay:Object(l["O"])(t)+"s"}},r.a.createElement(n["n"].CardLabel,{withBackground:!0},i.categories[e.identifier]||e.name)),r.a.createElement(n["n"].ExpandableContainer,{show:c},e.items.map(this.renderItem))):null}}render(){const{stickerTool:e}=this.props,{categories:t,items:a,config:l}=e;return l.flattenCategories?r.a.createElement(n["n"].CardContainer,null,a.map(this.renderItem)):r.a.createElement(n["n"].CardContainer,null,t.map(this.renderCategory))}};pe=Object(l["cb"])([Object(n["q"])("stickerTool","active"),n["o"]],pe);var Ce=i["c"].div`
  font-size: 20px;
  position: absolute;
  left: 50%;
  top: 50%;
  transform-origin: left top;
`,ge=class extends r.a.Component{constructor(){super(...arguments),this.getWidth=({fontFamily:e,fontStyle:t,fontWeight:a},n)=>{const l=document.createElement("canvas"),o=l.getContext("2d");return o.font=`${t} ${a} 20px ${e}`,o.fillText(n,0,0),o.measureText(n).width},this.renderItem=(e,t)=>{const{config:a,textTool:o}=this.props,{fontFamily:i,fontWeight:c,fontStyle:s,identifier:m}=e,u=`${e.fontFamily} ${n["a"].getDisplayFontStyle(e)}`,d=this.getWidth(e,u),b=(a.measurements.basicCard.medium.width-20)/d;return r.a.createElement(n["n"].Card,{tool:l["i"].TEXT,type:l["m"].MEDIUM,onClick:()=>o.changeFont(m),isDisabled:!this.textTool.isTextSelected,isActive:o.identifier===m,key:`${e.identifier}-${t}`,label:u,style:{animationDelay:Object(l["O"])(t)+"s"}},r.a.createElement(Ce,{style:{transform:`scale(${b}) translate(-50%, -50%)`,fontFamily:i,fontStyle:s,fontWeight:c}},u))}}get textTool(){return this.props.textTool}render(){const{textTool:e}=this.props,{fontsLoaded:t,fontFamilies:a}=e;return t?r.a.createElement(n["n"].CardContainer,null,a.map(this.renderItem)):null}},ye=Object(n["q"])("textTool","config")(Object(n["o"])(ge)),fe=({textDesignTool:e})=>{const{items:t,changeIdentifier:a,isTextDesignSelected:o,identifier:i}=e,c=(e,t)=>r.a.createElement(n["n"].Card,{tool:l["i"].TEXT_DESIGN,type:l["m"].MEDIUM,onClick:()=>a(e.identifier),isDisabled:!o,isActive:i===e.identifier,key:`${e.identifier}-${t}`,image:e.thumbnailURI,label:e.name,style:{animationDelay:Object(l["O"])(t)+"s",backgroundSize:"60%"}},r.a.createElement(n["n"].CardLabel,{hidden:!0},e.name));return r.a.createElement(n["n"].CardContainer,null,t.map(c))},Oe=Object(n["q"])("textDesignTool")(Object(n["o"])(fe)),Se=i["c"].div`
  svg {
    margin-bottom: 12px;
  }
`,Te=i["c"].div`
  svg {
    width: ${e=>e.theme.measurements.basicCard.medium.height}px;
    height: ${e=>e.theme.measurements.basicCard.medium.height}px;
  }

  ${n["z"]} {
    width: ${e=>e.theme.measurements.basicCard.medium.width-32}px;
    height: ${e=>e.theme.measurements.basicCard.medium.height-32}px;
    padding: 6px 0px 24px;
  }
`,xe=class extends r.a.Component{constructor(){super(...arguments),this.onCategoryClick=e=>{const{transformTool:t}=this.props;t.toggleCategorySelection(e)},this.renderItem=(e,t)=>{const{transformTool:a,config:o}=this.props,{locale:i,identifier:c}=a,s=a.checkIfTransformThumbnailExits(e.thumbnailURI),m=n["D"].crops[e.identifier]||n["D"].crops.imgly_transform_common_custom,u=r.a.createElement(n["n"].CardLabel,null,i.items[e.identifier]||e.name),d=s?u:r.a.createElement(Te,null,r.a.createElement(m,{main:o.theme.transform.crops.main,highlight:o.theme.transform.crops.highlight,shadow:o.theme.transform.crops.shadow}),u);return r.a.createElement(n["n"].Card,{tool:l["i"].TRANSFORM,type:l["m"].MEDIUM,onClick:()=>a.changeIdentifier(e.identifier,!0),key:`${e.identifier}-${t}`,image:e.thumbnailURI,label:e.name,isActive:e.identifier===c,style:{backgroundSize:"55%",animationDelay:Object(l["O"])(t)+"s"}},d)},this.renderCategory=(e,t)=>{const{transformTool:a}=this.props,{selectedCategoryIdentifier:o,locale:i}=a,c=o===e.identifier;if(!e.items)return null;const s=a.checkIfTransformThumbnailExits(e.thumbnailURI),m=r.a.createElement(n["n"].CardLabel,null,i.categories[e.identifier]||e.name),u=s?m:r.a.createElement(Se,null,n["D"].categories[e.identifier]&&r.a.createElement(n["D"].categories[e.identifier]),m);return r.a.createElement(n["n"].CategoryContainer,{key:e.identifier},r.a.createElement(n["n"].Card,{tool:l["i"].TRANSFORM,type:l["m"].LARGE,onClick:()=>this.onCategoryClick(e.identifier),image:s?e.thumbnailURI:"",label:e.name,style:{animationDelay:Object(l["O"])(t)+"s"}},u),r.a.createElement(n["n"].ExpandableContainer,{show:c},e.items.map(this.renderItem)))}}render(){const{transformTool:e}=this.props,{categories:t,config:a,items:l}=e;return a.flattenCategories?r.a.createElement(n["n"].CardContainer,null,l.map(this.renderItem)):r.a.createElement(n["n"].CardContainer,null,t.map(this.renderCategory))}};xe=Object(l["cb"])([Object(n["q"])("transformTool","config"),n["o"]],xe);var ke=Object(n["o"])((function(){const{active:e,library:t,custom:a}=Object(n["y"])(),i=e.tool,c=Object(o["useMemo"])(()=>{switch(i){case l["i"].LIBRARY:return r.a.createElement(be,null);case l["i"].FILTER:return r.a.createElement(ie,null);case l["i"].FOCUS:return r.a.createElement(se,null);case l["i"].ADJUSTMENT:return r.a.createElement(oe,null);case l["i"].OVERLAY:return r.a.createElement(Ee,null);case l["i"].STICKER:return r.a.createElement(pe,null);case l["i"].TEXT:return r.a.createElement(ye,null);case l["i"].TEXT_DESIGN:return r.a.createElement(Oe,null);case l["i"].FRAME:return r.a.createElement(ue,null);case l["i"].TRANSFORM:return r.a.createElement(xe,null);case l["i"].CUSTOM:return r.a.createElement(re,null);default:return null}},[i]),s=a.getBasicToolItemsBar();return!s||i===l["i"].BRUSH||i===l["i"].LIBRARY&&!t.libraryProvider?null:r.a.createElement(s,{show:!!i},c)})),Ie=i["c"].div`
  position: absolute;
  width: 100%;
  height: ${e=>e.theme.measurements.basicUIToolControlBar.maxHeight}px;
  bottom: 0;
  left: 0;
  background: ${e=>e.theme.webcam.backdrop};
  z-index: ${e=>e.theme.measurements.zIndex.disable};
`,je=class extends r.a.Component{static getDerivedStateFromError(e){return console.error(e),{hasError:!0}}render(){const{active:e}=this.props;return r.a.createElement(n["x"].Container,{"data-test":l["H"].EditorContainer},e.isWebcam?r.a.createElement(Ie,null):null,r.a.createElement(n["h"],null),r.a.createElement(n["F"],null,r.a.createElement(n["c"],null),r.a.createElement(n["k"],null,e.isWebcam?r.a.createElement(n["j"],null):null,e.image&&r.a.createElement(n["f"],null)),r.a.createElement(ae,null),r.a.createElement(ke,null),r.a.createElement(c,null)))}};je=Object(l["cb"])([Object(n["q"])("active"),n["o"]],je);var Be=class extends r.a.Component{constructor(){super(...arguments),this.componentWillUnmount=()=>{this.editor.cleanUpCanvasMemory()}}componentDidMount(){const{editor:e,storeProps:t}=this.props;this.editor=e,this.storeProps=t;const a=new n["g"](this.editor.configStore.config.custom.components,{basicUIToolbar:n["n"].Toolbar.Index,basicUIToolControlBar:n["n"].Controlsbar,basicUIToolItemsBar:n["n"].Itemsbar}),l={getDialog:a.getDialog,getButton:a.getButton,getColorItem:a.getColorItem,getCheckbox:a.getCheckbox,getBasicToolbar:a.getBasicToolbar,getBasicToolControlBar:a.getBasicToolControlBar,getBasicToolItemsBar:a.getBasicToolItemsBar};this.storeProps.custom=l,this.forceUpdate()}render(){return this.storeProps?r.a.createElement(n["p"],{...this.storeProps},r.a.createElement(i["a"],{theme:{...this.editor.configStore.theme,measurements:this.editor.configStore.measurements}},r.a.createElement(je,null))):null}}}}]);
//# sourceMappingURL=chunk-2d0dd60e.eb8dce23.js.map